---
layout: home
datatable: true
---

<div class="page-list">
	<div class="page-list-header">
		<h1><img width="50px" src="/img/rock-music.png" />Music Lab</h1>
	</div>
	<div class="page-list-search"></div>
	<div class="page-list-songs">
		<table class="display nowrap">
			<thead>
				<tr>
					<th class="artist">Artist</th>
					<th class="title">Title</th>
					<th class="tags">Tags</th>
					<th class="capo">Capo</th>
					<th class="tuning">Tuning</th>
				</tr>
			</thead>
		</table>
	</div>
</div>

<script>
	$(document).ready(function() {
		const table = $('.page-list-songs table').DataTable({
			ajax: './data.json',
			dom: '<"dtsp-dataTable"frtip>',
			responsive: {
				details: {
					type: 'none'
				}
			},
			paging: false,
			searchPanes: {
				layout: 'columns-1',
				controls: false				
			},
			order: [1, "asc"],
			buttons: {
        buttons: [
					{
							text: 'Alert',
							action: function ( e, dt, node, config ) {
									alert( 'Activated!' );
									this.disable(); // disable button
							}
					}
        ]
    	},
			columns: [
				{
					data: "group",
					responsivePriority: 2, className: 'all', 
					targets: [0] 
				}, {
					data: "title",
					responsivePriority: 1,  className: 'all', 
					targets: [1],
					render: (data, type, row) => `<a href="${row.url}">${row.title}</a>`
				}, {
					data: "tags",
					responsivePriority: 10, 
					targets: [2],
					searchPanes: {
						orthogonal: 'sp',
						combiner: 'and'
					}
				}, {
					data: "capo",
					responsivePriority: 100, 
					targets: [3]
				}, {
					data: "tuning",
					responsivePriority: 100, 
					targets: [4]
				}
			]
		});
		
		table.searchPanes();

  	$(".page-list .page-list-search").append(table.searchPanes.container());
	});
</script>


